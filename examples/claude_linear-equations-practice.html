<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Solving Linear Equations</title>
<meta name="subject" content="Math">
<meta name="topic" content="Linear Equations">
<meta name="template" content="practice">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: system-ui, sans-serif; background: #F0F4FF; color: #1A1D2E; min-height: 100vh; padding: 1.5rem; }
  .app { max-width: 480px; margin: 0 auto; }
  h1 { font-size: 1.4rem; margin-bottom: 0.2rem; }
  .sub { color: #6B7194; font-size: 0.88rem; margin-bottom: 1.5rem; }
  .problem-card { background: white; border-radius: 14px; padding: 1.5rem; box-shadow: 0 2px 12px rgba(75,85,206,0.08); margin-bottom: 1rem; }
  .equation { font-size: 1.6rem; font-weight: 700; text-align: center; padding: 1rem 0; font-family: 'Courier New', monospace; color: #4B55CE; }
  .prompt { font-size: 0.9rem; color: #6B7194; margin-bottom: 0.75rem; }
  .input-row { display: flex; gap: 0.5rem; }
  .input-row label { font-size: 0.9rem; font-weight: 600; display: flex; align-items: center; gap: 0.3rem; }
  .input-row input { flex: 1; padding: 0.65rem 0.8rem; border: 2px solid #D8DCF0; border-radius: 10px; font-size: 1.1rem; font-family: 'Courier New', monospace; text-align: center; outline: none; transition: border-color 0.2s; }
  .input-row input:focus { border-color: #4B55CE; }
  .check-btn { margin-top: 1rem; width: 100%; padding: 0.7rem; background: #4B55CE; color: white; border: none; border-radius: 10px; font-size: 0.95rem; font-weight: 600; cursor: pointer; transition: background 0.2s; }
  .check-btn:hover { background: #3D47B0; }
  .result { margin-top: 0.75rem; padding: 0.7rem 1rem; border-radius: 10px; font-size: 0.9rem; display: none; line-height: 1.5; }
  .result.show { display: block; }
  .result.correct { background: #E8F7EE; color: #1D6B3A; }
  .result.wrong { background: #FEECEC; color: #B33030; }
  .score-bar { display: flex; justify-content: space-between; font-size: 0.85rem; color: #6B7194; margin-bottom: 1rem; }
  .streak { color: #4B55CE; font-weight: 600; }
  .next-btn { margin-top: 0.5rem; width: 100%; padding: 0.6rem; background: transparent; border: 1.5px solid #D8DCF0; border-radius: 10px; font-size: 0.9rem; cursor: pointer; display: none; }
  .next-btn.show { display: block; }
</style>
</head>
<body>
<div class="app">
  <h1>Linear Equations</h1>
  <p class="sub">Solve for x â€” type your answer and check</p>
  <div class="score-bar"><span id="score"></span><span class="streak" id="streak"></span></div>
  <div class="problem-card">
    <div class="equation" id="eq"></div>
    <p class="prompt">What is the value of x?</p>
    <div class="input-row">
      <label>x =</label>
      <input type="number" id="answer" step="any" autofocus>
    </div>
    <button class="check-btn" id="checkBtn" onclick="check()">Check</button>
    <div class="result" id="result"></div>
    <button class="next-btn" id="nextBtn" onclick="next()">Next Problem â†’</button>
  </div>
</div>
<script>
let total = 0, correct = 0, streakCount = 0, currentAnswer = 0;

function gen() {
  // ax + b = c  â†’  x = (c - b) / a
  const a = randInt(2, 9) * (Math.random() > 0.5 ? 1 : -1);
  const x = randInt(-10, 10);
  const b = randInt(-15, 15);
  const c = a * x + b;
  currentAnswer = x;

  const aStr = a === 1 ? '' : a === -1 ? '-' : a;
  const bStr = b > 0 ? ` + ${b}` : b < 0 ? ` âˆ’ ${Math.abs(b)}` : '';
  document.getElementById('eq').textContent = `${aStr}x${bStr} = ${c}`;
  document.getElementById('answer').value = '';
  document.getElementById('result').className = 'result';
  document.getElementById('nextBtn').className = 'next-btn';
  document.getElementById('checkBtn').style.display = '';
  document.getElementById('answer').focus();
}

function check() {
  const input = parseFloat(document.getElementById('answer').value);
  const res = document.getElementById('result');
  total++;
  if (input === currentAnswer) {
    correct++; streakCount++;
    res.className = 'result show correct';
    res.textContent = `âœ“ Correct! x = ${currentAnswer}`;
  } else {
    streakCount = 0;
    res.className = 'result show wrong';
    res.textContent = `âœ— The answer is x = ${currentAnswer}. ${explain()}`;
  }
  document.getElementById('checkBtn').style.display = 'none';
  document.getElementById('nextBtn').classList.add('show');
  updateScore();
}

function explain() {
  return "Isolate x by moving constants to one side, then divide by the coefficient.";
}

function next() { gen(); }
function updateScore() {
  document.getElementById('score').textContent = `${correct}/${total} correct`;
  document.getElementById('streak').textContent = streakCount > 1 ? `ðŸ”¥ ${streakCount} streak` : '';
}

function randInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }

document.getElementById('answer').addEventListener('keydown', e => { if (e.key === 'Enter') { const nb = document.getElementById('nextBtn'); if (nb.classList.contains('show')) next(); else check(); }});

updateScore();
gen();
</script>
</body>
</html>
